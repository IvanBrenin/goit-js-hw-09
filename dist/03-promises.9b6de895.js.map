{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,UAAWC,SAASC,cAAc,UAmBpC,SAASC,EAAcC,EAAUC,GAE/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EACNF,EAAQ,uBAAuBH,QAAeC,OAE9CG,EAAO,sBAAsBJ,QAAeC,MAAS,GAElDA,EAAA,GAEH,CAEA,SAASQ,EAAUC,GACjBjB,EAAAkB,OAAOC,QAAQF,EACjB,CAEA,SAASG,EAASC,GAChBrB,EAAAkB,OAAOI,QAAQD,EACjB,CArCAnB,EAAKC,UAAUoB,iBAAiB,UAEhC,SAAkBC,GAChBA,EAAMC,iBAER,IAAIjB,GAASN,EAAKC,UAAUK,MAAMS,MAClC,MAAMS,GAAQxB,EAAKC,UAAUuB,KAAKT,MAC5BU,GAAUzB,EAAKC,UAAUwB,OAAOV,MAEtC,IAAK,IAAIW,EAAI,EAAGA,GAAKD,EAAQC,GAAG,EAC9BtB,EAAcsB,EAAGpB,GAAOqB,KAAKb,GAAWc,MAAMV,GAC9CZ,GAASkB,EAETF,EAAMO,cAAcC,OACtB","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  inputForm: document.querySelector('.form')\n}\n\nrefs.inputForm.addEventListener('submit', onSubmit)\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\nlet delay = +refs.inputForm.delay.value; \nconst step = +refs.inputForm.step.value;\nconst amount = +refs.inputForm.amount.value;\n\nfor (let i = 1; i <= amount; i+=1) {\n  createPromise(i, delay).then(onResolve).catch(onReject); \n  delay += step;   \n}\n  event.currentTarget.reset(); \n}\n\nfunction createPromise(position, delay) {\n\n  return new Promise((resolve, reject) => {\nconst shouldResolve = Math.random() > 0.3;\n\nsetTimeout(() => {\n  if (shouldResolve) {\nresolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\nreject(`❌ Rejected promise ${position} in ${delay}ms`); \n  }\n}, delay)\n  }); \n}\n\nfunction onResolve(value) {\n  Notify.success(value);\n}\n\nfunction onReject(error) {\n  Notify.failure(error);\n}\n"],"names":["$9EgcF","parcelRequire","$75aa520dfb7f3d3e$var$refs","inputForm","document","querySelector","$75aa520dfb7f3d3e$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","$75aa520dfb7f3d3e$var$onResolve","value","Notify","success","$75aa520dfb7f3d3e$var$onReject","error","failure","addEventListener","event","preventDefault","step","amount","i","then","catch","currentTarget","reset"],"version":3,"file":"03-promises.9b6de895.js.map"}